{
  "Repository": "core-setup",
  "Definitions": {
    "Path": ".",
    "Type": "VSTS",
    "BaseUrl": "https://devdiv.visualstudio.com/DefaultCollection"
  },
  "Pipelines": [
    {
      "Name": "Trusted-All-Release",
      "Parameters": {
        "TreatWarningsAsErrors": "false"
      },
      "BuildParameters": {
        "BuildConfiguration": "Release"
      },
      "Definitions": [
        {
          "Name": "Core-Setup-CentOS-x64",
          "ReportingParameters": {
            "OperatingSystem": "CentOS 7.1",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Debian8-x64",
          "ReportingParameters": {
            "OperatingSystem": "Debian 8.2",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Debian9-x64",
          "ReportingParameters": {
            "OperatingSystem": "Debian 9",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Fedora24-x64",
          "ReportingParameters": {
            "OperatingSystem": "Fedora 24",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Fedora27-x64",
          "ReportingParameters": {
            "OperatingSystem": "Fedora 27",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Fedora28-x64",
          "ReportingParameters": {
            "OperatingSystem": "Fedora 28",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-OpenSuse42.1-x64",
          "ReportingParameters": {
            "OperatingSystem": "OpenSuse 42.1",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-OpenSuse42.3-x64",
          "ReportingParameters": {
            "OperatingSystem": "OpenSuse 42.3",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-OSX-x64",
          "ReportingParameters": {
            "OperatingSystem": "OSX",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-RHEL7-x64",
          "ReportingParameters": {
            "SubType": "Native",
            "OperatingSystem": "RedHat 7",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Signing-Windows-x64",
          "ReportingParameters": {
            "OperatingSystem": "Windows",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Signing-Windows-x86",
          "ReportingParameters": {
            "OperatingSystem": "Windows",
            "Type": "build/product/",
            "Platform": "x86"
          }
        },
        {
          "Name": "Core-Setup-Ubuntu14.04-x64",
          "ReportingParameters": {
            "OperatingSystem": "Ubuntu 14.04",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Ubuntu16.04-x64",
          "ReportingParameters": {
            "OperatingSystem": "Ubuntu 16.04",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Ubuntu18.04-x64",
          "ReportingParameters": {
            "OperatingSystem": "Ubuntu 18.04",
            "Type": "build/product/",
            "Platform": "x64"
          }
        },
        {
          "Name": "Core-Setup-Windows-arm64",
          "ReportingParameters": {
            "OperatingSystem": "Windows",
            "Type": "build/product/",
            "Platform": "arm64"
          }
        }
      ]
    },
    {
      "Name": "Sign And Publish Packages",
      "Parameters": {
        "TreatWarningsAsErrors": "false"
      },
      "BuildParameters": {
        "BuildConfiguration": "Release"
      },
      "Definitions": [
        {
          "Name": "Core-Setup-Sign-And-Publish",
          "ReportingParameters": {
            "OperatingSystem": "Windows",
            "Type": "build/product/",
            "Platform": "x64"
          }
        }
      ],
      "DependsOn": [
        "Trusted-All-Release"
      ]
    }
  ]
}